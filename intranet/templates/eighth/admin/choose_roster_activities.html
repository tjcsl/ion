{% extends "eighth/admin/eighth_admin_page_base.html" %}
{% load staticfiles %}

{% block js %}
    <script type="text/javascript" src="{% static 'vendor/sortable-0.6.0/js/sortable.min.js' %}"></script>
    {{ block.super }}
    <script type="text/javascript">
        $(function() {
            Sortable.init();
        });
    </script>

    <script type="text/javascript">
$(function() {
    $("input[type=checkbox].all").change(function() {
        var chk = $(this).prop("checked");
        $(".choose-activities tbody input").each(function() {
            $(this).prop("checked", chk);
        })
    })
});
    </script>
{% endblock %}

{% block css %}
    <link rel="stylesheet" type="text/css" href="{% static 'vendor/sortable-0.6.0/css/sortable-theme-minimal.css' %}">
    {{ block.super }}
{% endblock %}

{% block admin_main %}
    <b>Block:</b> {{ eighthblock }}<br />
    <br />
    <form action="" method="post">{% csrf_token %}
        <input type="submit" value="Print Roster" />
        <br />
        Click on column titles to sort.
        <table data-sortable class="fancy-table choose-activities zebra">
        <thead>
            <tr>
                <th><input type="checkbox" class="all" checked /></th>
                <th>Activity Name</th>
                <th>Sponsors</th>
                <th>Rooms</th>
            </tr>
        </thead>
        <tbody>
        {% for schact in schacts %}
        <tr>
            <td><input type="checkbox" name="schact_id" value="{{ schact.id }}" checked /></td>
            <td>{{ schact.full_title }}</td>
            <td>{{ schact.get_true_sponsors|join:"; " }}</td>
            <td>{{ schact.get_true_rooms|join:"; " }}</td>
        </tr>
        {% endfor %}
        </tbody>
        </table>

        <input type="submit" value="Print Roster" />
    </form>
{% endblock %}
