<!DOCTYPE html>

<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

    <title>intranet.middleware package &#8212; TJ Intranet v3 (Build #2335) documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/bootstrap-sphinx.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
    <script src="../_static/doctools.js"></script>
    <script src="../_static/sphinx_highlight.js"></script>
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="intranet.settings package" href="intranet.settings.html" />
    <link rel="prev" title="intranet.apps.welcome package" href="intranet.apps.welcome.html" />
<meta charset='utf-8'>
<meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
<meta name='viewport' content='width=device-width, initial-scale=1.0, maximum-scale=1'>
<meta name="apple-mobile-web-app-capable" content="yes">
<script type="text/javascript" src="../_static/js/jquery-1.12.4.min.js"></script>
<script type="text/javascript" src="../_static/js/jquery-fix.js"></script>
<script type="text/javascript" src="../_static/bootstrap-3.4.1/js/bootstrap.min.js"></script>
<script type="text/javascript" src="../_static/bootstrap-sphinx.js"></script>

  </head><body>

  <div id="navbar" class="navbar navbar-default navbar-fixed-top">
    <div class="container">
      <div class="navbar-header">
        <!-- .btn-navbar is used as the toggle for collapsed navbar content -->
        <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".nav-collapse">
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
        </button>
        <a class="navbar-brand" href="../index.html">
          TJ Intranet</a>
        <span class="navbar-text navbar-version pull-left"><b>v3</b></span>
      </div>

        <div class="collapse navbar-collapse nav-collapse">
          <ul class="nav navbar-nav">
            
            
              <li class="dropdown globaltoc-container">
  <a role="button"
     id="dLabelGlobalToc"
     data-toggle="dropdown"
     data-target="#"
     href="../index.html">Topics <b class="caret"></b></a>
  <ul class="dropdown-menu globaltoc"
      role="menu"
      aria-labelledby="dLabelGlobalToc"><ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../setup/index.html">Setup</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../setup/server.html">Setting up the Server</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../architecture/index.html">Architecture</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../architecture/index.html#technologies">Technologies</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../developing/index.html">Developing for Intranet</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../developing/eighth-models.html">Understanding the Eighth models</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/howto.html">How to do Ion development</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/oauth.html">Using OAuth</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/requirements.html">Ion Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/styleguide.html">Coding Style Guide</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/testing.html">Testing Ion</a></li>
<li class="toctree-l2"><a class="reference internal" href="../developing/updates.html">Keeping things up-to-date</a></li>
</ul>
</li>
<li class="toctree-l1 current"><a class="reference internal" href="modules.html">intranet</a><ul class="current">
<li class="toctree-l2 current"><a class="reference internal" href="intranet.html">intranet package</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
                <li class="dropdown">
  <a role="button"
     id="dLabelLocalToc"
     data-toggle="dropdown"
     data-target="#"
     href="#">Section <b class="caret"></b></a>
  <ul class="dropdown-menu localtoc"
      role="menu"
      aria-labelledby="dLabelLocalToc"><ul>
<li><a class="reference internal" href="#">intranet.middleware package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-intranet.middleware.access_log">intranet.middleware.access_log module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.access_log.AccessLogMiddleWare"><code class="docutils literal notranslate"><span class="pre">AccessLogMiddleWare</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.ajax">intranet.middleware.ajax module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.ajax.AjaxNotAuthenticatedMiddleWare"><code class="docutils literal notranslate"><span class="pre">AjaxNotAuthenticatedMiddleWare</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.dark_mode">intranet.middleware.dark_mode module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.dark_mode.DarkModeMiddleware"><code class="docutils literal notranslate"><span class="pre">DarkModeMiddleware</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.monitoring">intranet.middleware.monitoring module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.monitoring.PrometheusAccessMiddleware"><code class="docutils literal notranslate"><span class="pre">PrometheusAccessMiddleware</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.profiler">intranet.middleware.profiler module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.profiler.ProfileMiddleware"><code class="docutils literal notranslate"><span class="pre">ProfileMiddleware</span></code></a><ul>
<li><a class="reference internal" href="#intranet.middleware.profiler.ProfileMiddleware.process_request"><code class="docutils literal notranslate"><span class="pre">ProfileMiddleware.process_request()</span></code></a></li>
<li><a class="reference internal" href="#intranet.middleware.profiler.ProfileMiddleware.process_response"><code class="docutils literal notranslate"><span class="pre">ProfileMiddleware.process_response()</span></code></a></li>
<li><a class="reference internal" href="#intranet.middleware.profiler.ProfileMiddleware.process_view"><code class="docutils literal notranslate"><span class="pre">ProfileMiddleware.process_view()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#intranet.middleware.profiler.get_log_file_path"><code class="docutils literal notranslate"><span class="pre">get_log_file_path()</span></code></a></li>
<li><a class="reference internal" href="#intranet.middleware.profiler.stdev"><code class="docutils literal notranslate"><span class="pre">stdev()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.same_origin">intranet.middleware.same_origin module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.same_origin.SameOriginMiddleware"><code class="docutils literal notranslate"><span class="pre">SameOriginMiddleware</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.session_management">intranet.middleware.session_management module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.session_management.SessionManagementMiddleware"><code class="docutils literal notranslate"><span class="pre">SessionManagementMiddleware</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.templates">intranet.middleware.templates module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.templates.AdminSelectizeLoadingIndicatorMiddleware"><code class="docutils literal notranslate"><span class="pre">AdminSelectizeLoadingIndicatorMiddleware</span></code></a></li>
<li><a class="reference internal" href="#intranet.middleware.templates.NoReferrerMiddleware"><code class="docutils literal notranslate"><span class="pre">NoReferrerMiddleware</span></code></a></li>
<li><a class="reference internal" href="#intranet.middleware.templates.StripNewlinesMiddleware"><code class="docutils literal notranslate"><span class="pre">StripNewlinesMiddleware</span></code></a><ul>
<li><a class="reference internal" href="#intranet.middleware.templates.StripNewlinesMiddleware.__call__"><code class="docutils literal notranslate"><span class="pre">StripNewlinesMiddleware.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.threadlocals">intranet.middleware.threadlocals module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.threadlocals.ThreadLocalsMiddleware"><code class="docutils literal notranslate"><span class="pre">ThreadLocalsMiddleware</span></code></a><ul>
<li><a class="reference internal" href="#intranet.middleware.threadlocals.ThreadLocalsMiddleware.process_view"><code class="docutils literal notranslate"><span class="pre">ThreadLocalsMiddleware.process_view()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#intranet.middleware.threadlocals.request"><code class="docutils literal notranslate"><span class="pre">request()</span></code></a></li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.traceback">intranet.middleware.traceback module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.traceback.UserTracebackMiddleware"><code class="docutils literal notranslate"><span class="pre">UserTracebackMiddleware</span></code></a><ul>
<li><a class="reference internal" href="#intranet.middleware.traceback.UserTracebackMiddleware.process_exception"><code class="docutils literal notranslate"><span class="pre">UserTracebackMiddleware.process_exception()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware.url_slashes">intranet.middleware.url_slashes module</a><ul>
<li><a class="reference internal" href="#intranet.middleware.url_slashes.FixSlashes"><code class="docutils literal notranslate"><span class="pre">FixSlashes</span></code></a><ul>
<li><a class="reference internal" href="#intranet.middleware.url_slashes.FixSlashes.__call__"><code class="docutils literal notranslate"><span class="pre">FixSlashes.__call__()</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#module-intranet.middleware">Module contents</a></li>
</ul>
</li>
</ul>
</ul>
</li>
              
            
            
              
                
              
            
            
            
            
          </ul>

          
            
<form class="navbar-form navbar-right" action="../search.html" method="get">
 <div class="form-group">
  <input type="text" name="q" class="form-control" placeholder="Search" />
 </div>
  <input type="hidden" name="check_keywords" value="yes" />
  <input type="hidden" name="area" value="default" />
</form>
          
        </div>
    </div>
  </div>

<div class="container">
  <div class="row">
    <div class="body col-md-12 content" role="main">
      
  <section id="intranet-middleware-package">
<h1>intranet.middleware package<a class="headerlink" href="#intranet-middleware-package" title="Permalink to this heading">¶</a></h1>
<section id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this heading">¶</a></h2>
</section>
<section id="module-intranet.middleware.access_log">
<span id="intranet-middleware-access-log-module"></span><h2>intranet.middleware.access_log module<a class="headerlink" href="#module-intranet.middleware.access_log" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.access_log.AccessLogMiddleWare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.access_log.</span></span><span class="sig-name descname"><span class="pre">AccessLogMiddleWare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/access_log.html#AccessLogMiddleWare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.access_log.AccessLogMiddleWare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
</dd></dl>

</section>
<section id="module-intranet.middleware.ajax">
<span id="intranet-middleware-ajax-module"></span><h2>intranet.middleware.ajax module<a class="headerlink" href="#module-intranet.middleware.ajax" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.ajax.AjaxNotAuthenticatedMiddleWare">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.ajax.</span></span><span class="sig-name descname"><span class="pre">AjaxNotAuthenticatedMiddleWare</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/ajax.html#AjaxNotAuthenticatedMiddleWare"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.ajax.AjaxNotAuthenticatedMiddleWare" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Django doesn’t handle login redirects with AJAX very nicely, so we have to work around the
default behavior a little.</p>
<p>If a user’s
session has expired, but they still have a window open, they client
may send AJAX requests to a view wrapped in &#64;login_required or
something similar. When this happens, Django <code class="docutils literal notranslate"><span class="pre">302</span></code> redirects to
something like <code class="docutils literal notranslate"><span class="pre">/login?next=/eighth/signup</span></code>, which will show up to
the client as a <code class="docutils literal notranslate"><span class="pre">200</span> <span class="pre">OK</span></code> <code class="docutils literal notranslate"><span class="pre">GET</span></code> request and proceed as if
everything worked. To avoid this, we need to detect these types of
requests and change their status code to <code class="docutils literal notranslate"><span class="pre">401</span></code> to let the client
know that the request actually failed.</p>
</dd></dl>

</section>
<section id="module-intranet.middleware.dark_mode">
<span id="intranet-middleware-dark-mode-module"></span><h2>intranet.middleware.dark_mode module<a class="headerlink" href="#module-intranet.middleware.dark_mode" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.dark_mode.DarkModeMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.dark_mode.</span></span><span class="sig-name descname"><span class="pre">DarkModeMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/dark_mode.html#DarkModeMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.dark_mode.DarkModeMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Set the ‘dark-mode-enabled’ cookie if the user is logged in and has enabled dark mode</p>
</dd></dl>

</section>
<section id="module-intranet.middleware.monitoring">
<span id="intranet-middleware-monitoring-module"></span><h2>intranet.middleware.monitoring module<a class="headerlink" href="#module-intranet.middleware.monitoring" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.monitoring.PrometheusAccessMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.monitoring.</span></span><span class="sig-name descname"><span class="pre">PrometheusAccessMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/monitoring.html#PrometheusAccessMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.monitoring.PrometheusAccessMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Restricts access to Django Prometheus metrics to ALLOWED_METRIC_IPS and superusers.</p>
</dd></dl>

</section>
<section id="module-intranet.middleware.profiler">
<span id="intranet-middleware-profiler-module"></span><h2>intranet.middleware.profiler module<a class="headerlink" href="#module-intranet.middleware.profiler" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.profiler.ProfileMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.profiler.</span></span><span class="sig-name descname"><span class="pre">ProfileMiddleware</span></span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#ProfileMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.ProfileMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Displays timing or profiling for any view.
<a class="reference external" href="http://yoursite.com/yourview/?time">http://yoursite.com/yourview/?time</a> or <a class="reference external" href="http://yoursite.com/yourview/?prof">http://yoursite.com/yourview/?prof</a></p>
<p>Record the time taken by Django and the project code to generate the web page and by the database to make the
queries. Accumulate repeated web page visits and display the accumulated
statistics in the web browser in place of the normal web page. The availability of this middleware is
controlled by the DEBUG flas in settings.py. To time a page, add ‘?time’ (or ‘&amp;time’). To clear
out accumulated timings, add ‘&amp;reset’.</p>
<p>Alternatively, profile the python function calls executed to create the web page and
display the profiling statistics in the web browser. To profile a page,
add ‘?prof’ (or ‘&amp;prof’) to the url. By default the statistics are sorted by cumulative time. To
specify an alternative sort, add one or more ‘sort’ parameters, e.g.,
‘&amp;sort=time&amp;sort=calls’. By default the display is limited to the first 40 function calls. To
specify an alternative, add a limit parameter, e.g., ‘&amp;limit=.50’. To write the profile data to
a permanent file in <cite>PROFILE_LOG_BASE</cite> add ‘&amp;log’. To strip the directory paths from the profile
statistics, add ‘&amp;strip’. (Note that the file and group summaries are also removed by ‘strip’.)</p>
<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.profiler.ProfileMiddleware.process_request">
<span class="sig-name descname"><span class="pre">process_request</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#ProfileMiddleware.process_request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.ProfileMiddleware.process_request" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.profiler.ProfileMiddleware.process_response">
<span class="sig-name descname"><span class="pre">process_response</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#ProfileMiddleware.process_response"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.ProfileMiddleware.process_response" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.profiler.ProfileMiddleware.process_view">
<span class="sig-name descname"><span class="pre">process_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_args</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">callback_kwargs</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#ProfileMiddleware.process_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.ProfileMiddleware.process_view" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="intranet.middleware.profiler.get_log_file_path">
<span class="sig-prename descclassname"><span class="pre">intranet.middleware.profiler.</span></span><span class="sig-name descname"><span class="pre">get_log_file_path</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">log_file_path</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">called_time</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#get_log_file_path"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.get_log_file_path" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="intranet.middleware.profiler.stdev">
<span class="sig-prename descclassname"><span class="pre">intranet.middleware.profiler.</span></span><span class="sig-name descname"><span class="pre">stdev</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">x</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/profiler.html#stdev"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.profiler.stdev" title="Permalink to this definition">¶</a></dt>
<dd><p>Calculate standard deviation of data x[]:
std = sqrt(sum_i (x_i - mean)^2 over n-1)
<a class="reference external" href="https://wiki.python.org/moin/NumericAndScientificRecipes">https://wiki.python.org/moin/NumericAndScientificRecipes</a></p>
</dd></dl>

</section>
<section id="module-intranet.middleware.same_origin">
<span id="intranet-middleware-same-origin-module"></span><h2>intranet.middleware.same_origin module<a class="headerlink" href="#module-intranet.middleware.same_origin" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.same_origin.SameOriginMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.same_origin.</span></span><span class="sig-name descname"><span class="pre">SameOriginMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/same_origin.html#SameOriginMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.same_origin.SameOriginMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Blocks requests that set an “Origin” header that’s different from the “Host” header</p>
</dd></dl>

</section>
<section id="module-intranet.middleware.session_management">
<span id="intranet-middleware-session-management-module"></span><h2>intranet.middleware.session_management module<a class="headerlink" href="#module-intranet.middleware.session_management" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.session_management.SessionManagementMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.session_management.</span></span><span class="sig-name descname"><span class="pre">SessionManagementMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/session_management.html#SessionManagementMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.session_management.SessionManagementMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Handles session management.</p>
</dd></dl>

</section>
<section id="module-intranet.middleware.templates">
<span id="intranet-middleware-templates-module"></span><h2>intranet.middleware.templates module<a class="headerlink" href="#module-intranet.middleware.templates" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.templates.AdminSelectizeLoadingIndicatorMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.templates.</span></span><span class="sig-name descname"><span class="pre">AdminSelectizeLoadingIndicatorMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/templates.html#AdminSelectizeLoadingIndicatorMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.templates.AdminSelectizeLoadingIndicatorMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Automatically add a loading placeholder for Selectize inputs in admin templates.</p>
<p>This is probably not a good practice, but it really needs to be done
server-side for the loading indicators to show up instantly.</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.templates.NoReferrerMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.templates.</span></span><span class="sig-name descname"><span class="pre">NoReferrerMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/templates.html#NoReferrerMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.templates.NoReferrerMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Set all links to have rel=’noreferrer noopener’ to prevent malicious JS from editing what the user sees</p>
</dd></dl>

<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.templates.StripNewlinesMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.templates.</span></span><span class="sig-name descname"><span class="pre">StripNewlinesMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/templates.html#StripNewlinesMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.templates.StripNewlinesMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Strip extra newlines from rendered templates to enhance readability.</p>
<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.templates.StripNewlinesMiddleware.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/templates.html#StripNewlinesMiddleware.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.templates.StripNewlinesMiddleware.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Process the response and strip extra newlines from HTML.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-intranet.middleware.threadlocals">
<span id="intranet-middleware-threadlocals-module"></span><h2>intranet.middleware.threadlocals module<a class="headerlink" href="#module-intranet.middleware.threadlocals" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.threadlocals.ThreadLocalsMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.threadlocals.</span></span><span class="sig-name descname"><span class="pre">ThreadLocalsMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/threadlocals.html#ThreadLocalsMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.threadlocals.ThreadLocalsMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Stores the current authorized User object in thread locals for access in models (and
elsewhere) without passing the user around as an argument.</p>
<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.threadlocals.ThreadLocalsMiddleware.process_view">
<em class="property"><span class="pre">static</span><span class="w"> </span></em><span class="sig-name descname"><span class="pre">process_view</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">req</span></span></em>, <em class="sig-param"><span class="o"><span class="pre">*</span></span><span class="n"><span class="pre">_</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/threadlocals.html#ThreadLocalsMiddleware.process_view"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.threadlocals.ThreadLocalsMiddleware.process_view" title="Permalink to this definition">¶</a></dt>
<dd><p>Adds the request to thread locals.</p>
</dd></dl>

</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="intranet.middleware.threadlocals.request">
<span class="sig-prename descclassname"><span class="pre">intranet.middleware.threadlocals.</span></span><span class="sig-name descname"><span class="pre">request</span></span><span class="sig-paren">(</span><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/threadlocals.html#request"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.threadlocals.request" title="Permalink to this definition">¶</a></dt>
<dd><p>Return the currently authorized User object.</p>
<dl class="field-list simple">
<dt class="field-odd">Returns<span class="colon">:</span></dt>
<dd class="field-odd"><p>User object</p>
</dd>
</dl>
</dd></dl>

</section>
<section id="module-intranet.middleware.traceback">
<span id="intranet-middleware-traceback-module"></span><h2>intranet.middleware.traceback module<a class="headerlink" href="#module-intranet.middleware.traceback" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.traceback.UserTracebackMiddleware">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.traceback.</span></span><span class="sig-name descname"><span class="pre">UserTracebackMiddleware</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/traceback.html#UserTracebackMiddleware"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.traceback.UserTracebackMiddleware" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<p>Adds the currently logged-in user to the request context, so that they
show up in error emails.</p>
<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.traceback.UserTracebackMiddleware.process_exception">
<span class="sig-name descname"><span class="pre">process_exception</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">exception</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/traceback.html#UserTracebackMiddleware.process_exception"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.traceback.UserTracebackMiddleware.process_exception" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

</dd></dl>

</section>
<section id="module-intranet.middleware.url_slashes">
<span id="intranet-middleware-url-slashes-module"></span><h2>intranet.middleware.url_slashes module<a class="headerlink" href="#module-intranet.middleware.url_slashes" title="Permalink to this heading">¶</a></h2>
<dl class="py class">
<dt class="sig sig-object py" id="intranet.middleware.url_slashes.FixSlashes">
<em class="property"><span class="pre">class</span><span class="w"> </span></em><span class="sig-prename descclassname"><span class="pre">intranet.middleware.url_slashes.</span></span><span class="sig-name descname"><span class="pre">FixSlashes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">get_response</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/url_slashes.html#FixSlashes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.url_slashes.FixSlashes" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <a class="reference external" href="https://docs.python.org/3/library/functions.html#object" title="(in Python v3.12)"><code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></a></p>
<dl class="py method">
<dt class="sig sig-object py" id="intranet.middleware.url_slashes.FixSlashes.__call__">
<span class="sig-name descname"><span class="pre">__call__</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">request</span></span></em><span class="sig-paren">)</span><a class="reference internal" href="../_modules/intranet/middleware/url_slashes.html#FixSlashes.__call__"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#intranet.middleware.url_slashes.FixSlashes.__call__" title="Permalink to this definition">¶</a></dt>
<dd><p>Add or remove trailing slashes where needed.</p>
<p>Note that there is no HTTP redirection actually happening. This
just fixes the trailing slashes before the URLs are matched to
any URL patterns by changing the request’s internal properties.</p>
</dd></dl>

</dd></dl>

</section>
<section id="module-intranet.middleware">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-intranet.middleware" title="Permalink to this heading">¶</a></h2>
</section>
</section>


    </div>
      
  </div>
</div>
<footer class="footer">
  <div class="container">
    <p class="pull-right">
      <a href="#">Back to top</a>
      
        <br/>
        
      
    </p>
    <p>
        &copy; Copyright 2024, TJ Intranet Development Team.<br/>
    </p>
  </div>
</footer>
  </body>
</html>